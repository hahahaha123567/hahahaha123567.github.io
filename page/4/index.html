<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/snowman-32.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/snowman-32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/snowman-16.ico">
  <link rel="mask-icon" href="/images/snowman-32.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"hahahaha123567.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":true,"version":"8.12.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="niconiconi">
<meta property="og:type" content="website">
<meta property="og:title" content="hahahaha123567">
<meta property="og:url" content="https://hahahaha123567.github.io/page/4/index.html">
<meta property="og:site_name" content="hahahaha123567">
<meta property="og:description" content="niconiconi">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="hahahaha123567">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://hahahaha123567.github.io/page/4/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/4/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>hahahaha123567</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">hahahaha123567</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">hahahaha123567</p>
  <div class="site-description" itemprop="description">niconiconi</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">61</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">27</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/hahahaha123567" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;hahahaha123567" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://bangumi.tv/user/hahahaha123567" title="Bangumi → http:&#x2F;&#x2F;bangumi.tv&#x2F;user&#x2F;hahahaha123567" rel="noopener" target="_blank">Bangumi</a>
      </span>
  </div>


  <div class="links-of-blogroll site-overview-item animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://lovelive.ws/" title="https:&#x2F;&#x2F;lovelive.ws&#x2F;" rel="noopener" target="_blank">μ's</a>
        </li>
    </ul>
  </div>

        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hahahaha123567.github.io/2018-05-14-%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%8Bch5-%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hahahaha123567">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hahahaha123567">
      <meta itemprop="description" content="niconiconi">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | hahahaha123567">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018-05-14-%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%8Bch5-%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C.html" class="post-title-link" itemprop="url">《机器学习》ch5-神经网络</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-05-14 17:26:16" itemprop="dateCreated datePublished" datetime="2018-05-14T17:26:16+08:00">2018-05-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2018-08-12 22:00:06" itemprop="dateModified" datetime="2018-08-12T22:00:06+08:00">2018-08-12</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>0</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

            <div class="post-description">to be done</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hahahaha123567.github.io/2018-05-14-%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%8Bch4-%E5%86%B3%E7%AD%96%E6%A0%91.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hahahaha123567">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hahahaha123567">
      <meta itemprop="description" content="niconiconi">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | hahahaha123567">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018-05-14-%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%8Bch4-%E5%86%B3%E7%AD%96%E6%A0%91.html" class="post-title-link" itemprop="url">《机器学习》ch4-决策树</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-05-14 16:01:55" itemprop="dateCreated datePublished" datetime="2018-05-14T16:01:55+08:00">2018-05-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2018-08-12 21:59:52" itemprop="dateModified" datetime="2018-08-12T21:59:52+08:00">2018-08-12</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>702</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

            <div class="post-description">基本流程、划分选择、剪枝处理、连续与缺失值</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="基本流程"><a href="#基本流程" class="headerlink" title="基本流程"></a>基本流程</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// D 训练集, A 属性集</span></span><br><span class="line"><span class="title class_">GenerateTree</span> (D, A) &#123;</span><br><span class="line">    node = <span class="keyword">new</span> <span class="title class_">Node</span>();</span><br><span class="line">    <span class="keyword">if</span> (D剩下的样本输入的x完 全 一 致) &#123;</span><br><span class="line">        node.<span class="property">y</span> = D中占多数的y;</span><br><span class="line">        <span class="keyword">return</span> node;</span><br><span class="line">    &#125;</span><br><span class="line">    选择划分属性a <span class="comment">// optional: 预剪枝</span></span><br><span class="line">    <span class="keyword">for</span> a的每个变量</span><br><span class="line">        node.<span class="property">children</span>.<span class="title function_">add</span>(<span class="keyword">new</span> <span class="title class_">Node</span>());</span><br><span class="line">        <span class="keyword">if</span> (D中没有这个变量) &#123;</span><br><span class="line">            node.<span class="property">currentChildren</span>.<span class="property">y</span> = D中占多数的y;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            node.<span class="property">currentChildren</span>.<span class="property">y</span> = <span class="title class_">GenerateTree</span>(D, A-a);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="划分选择"><a href="#划分选择" class="headerlink" title="划分选择"></a>划分选择</h1><h3 id="信息熵-amp-信息增益"><a href="#信息熵-amp-信息增益" class="headerlink" title="信息熵&amp;信息增益"></a>信息熵&amp;信息增益</h3><p>Ent(D)越小，D纯度越高 （按y划分）</p>
<p>Gain(D, a) 越大，使用属性a进行划分的纯度提升越大</p>
<p>eg: ID3算法</p>
<h3 id="增益率"><a href="#增益率" class="headerlink" title="增益率"></a>增益率</h3><p>Gain_ratio(D, a)越大，使用属性a进行划分的纯度提升越大，并且泛化性能越好</p>
<p>偏好数目较少的属性，因此一般先用Gain再用Gain_radio</p>
<p>eg: C4.5</p>
<h1 id="剪枝处理"><a href="#剪枝处理" class="headerlink" title="剪枝处理"></a>剪枝处理</h1><p>防止过拟合，提升泛化性能</p>
<h3 id="预剪枝"><a href="#预剪枝" class="headerlink" title="预剪枝"></a>预剪枝</h3><p>选择划分属性时：用测试集比较划分前后的准确率</p>
<p>优点：提高效率</p>
<p>缺点：本质贪心，可能欠拟合</p>
<h3 id="后剪枝"><a href="#后剪枝" class="headerlink" title="后剪枝"></a>后剪枝</h3><p>生成了决策树之后，对每个节点判断比较</p>
<p>优点：准确率高</p>
<p>缺点：效率低</p>
<h1 id="连续与缺失值"><a href="#连续与缺失值" class="headerlink" title="连续与缺失值"></a>连续与缺失值</h1><h3 id="连续值"><a href="#连续值" class="headerlink" title="连续值"></a>连续值</h3><p>样本中的n个值，取n-1个中间值，转化成离散值，测试生成的树的效率，最后取其中一个值</p>
<h3 id="缺失值"><a href="#缺失值" class="headerlink" title="缺失值"></a>缺失值</h3><ol>
<li>选择划分属性：按已知的信息划分</li>
<li>给每个样本增加权重变量w，缺失属性在划分时w按照已知属性的比例减小，并且划分到每个子节点</li>
</ol>
<h1 id="多变量决策树"><a href="#多变量决策树" class="headerlink" title="多变量决策树"></a>多变量决策树</h1><p>多个属性之间有关联</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hahahaha123567.github.io/2018-04-29-Java%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hahahaha123567">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hahahaha123567">
      <meta itemprop="description" content="niconiconi">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | hahahaha123567">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018-04-29-Java%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8.html" class="post-title-link" itemprop="url">Java线程安全</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-04-29 22:18:07" itemprop="dateCreated datePublished" datetime="2018-04-29T22:18:07+08:00">2018-04-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2018-08-12 21:59:54" itemprop="dateModified" datetime="2018-08-12T21:59:54+08:00">2018-08-12</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

            <div class="post-description">线程安全的定义、程度、实现</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h1><p>当多个线程访问一个对象时，如果不用考虑这些线程在运行时环境下的调度和交替执行，也不需要进行额外的同步，或者在调用方法时进行任何其他的协调操作，调用这个对象的行为都可以获得正确的结果</p>
<h1 id="程度"><a href="#程度" class="headerlink" title="程度"></a>程度</h1><h3 id="不可变"><a href="#不可变" class="headerlink" title="不可变"></a>不可变</h3><p>immutable 的对象一定是线程安全的，例如 String</p>
<h3 id="绝对的线程安全"><a href="#绝对的线程安全" class="headerlink" title="绝对的线程安全"></a>绝对的线程安全</h3><p>不存在</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 即使是 Vector 也会无法同步，如果要保证线程安全需要在 run() 中加入 synchronized</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Vector&lt;Integer&gt; vector = <span class="keyword">new</span> <span class="title class_">Vector</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span> <span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">hoho</span> <span class="operator">=</span> <span class="number">0</span>; hoho &lt; <span class="number">50</span>; ++hoho) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">                vector.add(i);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Thread</span> <span class="variable">removeThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span> (() -&gt; &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; vector.size(); ++i) &#123;</span><br><span class="line">                    vector.remove(i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="type">Thread</span> <span class="variable">printThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span> (() -&gt; &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; vector.size(); ++i) &#123;</span><br><span class="line">                    System.out.print(vector.get(i));</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println();</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            removeThread.start();</span><br><span class="line">            printThread.start();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (Thread.activeCount() &gt; <span class="number">20</span>) ;</span><br><span class="line">        &#125;        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="相对的线程安全"><a href="#相对的线程安全" class="headerlink" title="相对的线程安全"></a>相对的线程安全</h3><p>Vector, HashTable</p>
<h3 id="线程兼容"><a href="#线程兼容" class="headerlink" title="线程兼容"></a>线程兼容</h3><p>需要调用方手动实现线程安全，大部分类</p>
<h3 id="线程对立"><a href="#线程对立" class="headerlink" title="线程对立"></a>线程对立</h3><p>Thread.suspend() 和 Thread.resume() ，已被废弃</p>
<h1 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h1><h3 id="互斥同步-Mutual-Exclusion-amp-Blocking-Synchronization"><a href="#互斥同步-Mutual-Exclusion-amp-Blocking-Synchronization" class="headerlink" title="互斥同步 Mutual Exclusion &amp; Blocking Synchronization"></a>互斥同步 Mutual Exclusion &amp; Blocking Synchronization</h3><p><strong>synchronized</strong></p>
<p>monitorexit, monitorenter</p>
<p>开销大；JDK1.6之后优化到和ReentrantLock性能相近</p>
<p><strong>ReentrantLock</strong></p>
<p>java.util.concurrent 包中的 ReentrantLock </p>
<ol>
<li>等待可中断</li>
<li>公平锁</li>
<li>锁可以绑定多个条件</li>
</ol>
<h3 id="非阻塞同步-Non-Blocking-Synchronization"><a href="#非阻塞同步-Non-Blocking-Synchronization" class="headerlink" title="非阻塞同步 Non-Blocking Synchronization"></a>非阻塞同步 Non-Blocking Synchronization</h3><p>基于硬件指令集的发展，先操作，再检测是否产生冲突</p>
<p>java.util.concurrent.AtomicInteger -&gt; sun.misc.Unsafe -&gt; CAS指令</p>
<h3 id="无同步方案"><a href="#无同步方案" class="headerlink" title="无同步方案"></a>无同步方案</h3><p><strong>可重入代码</strong></p>
<p><strong>线程本地存储 Thread Local Storage</strong></p>
<p>java.lang.ThreadLocal 类中的key-value对</p>
<h1 id="Volatile"><a href="#Volatile" class="headerlink" title="Volatile"></a>Volatile</h1><p>适用场景：</p>
<ol>
<li>布尔状态标志</li>
<li>单例模式的实例</li>
<li>volatile bean 模式</li>
</ol>
<hr>
<p>参考资料</p>
<p>《深入理解Java虚拟机》第12章，第13章</p>
<p><a target="_blank" rel="noopener" href="https://www.ibm.com/developerworks/cn/java/j-jtp06197.html">Java 理论与实践: 正确使用 Volatile 变量</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hahahaha123567.github.io/2018-04-26-%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%8Bch2-%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0%E4%B8%8E%E9%80%89%E6%8B%A9.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hahahaha123567">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hahahaha123567">
      <meta itemprop="description" content="niconiconi">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | hahahaha123567">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018-04-26-%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%8Bch2-%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0%E4%B8%8E%E9%80%89%E6%8B%A9.html" class="post-title-link" itemprop="url">《机器学习》ch2.模型评估与选择</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-04-26 22:47:31" itemprop="dateCreated datePublished" datetime="2018-04-26T22:47:31+08:00">2018-04-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2018-08-12 21:59:58" itemprop="dateModified" datetime="2018-08-12T21:59:58+08:00">2018-08-12</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>337</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

            <div class="post-description">评估方法、性能度量、统计假设检验</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="评估方法"><a href="#评估方法" class="headerlink" title="评估方法"></a>评估方法</h1><h3 id="留出法"><a href="#留出法" class="headerlink" title="留出法"></a>留出法</h3><p>两个互斥集合</p>
<h3 id="交叉验证"><a href="#交叉验证" class="headerlink" title="交叉验证"></a>交叉验证</h3><p>k阶交叉验证</p>
<h3 id="自助法"><a href="#自助法" class="headerlink" title="自助法"></a>自助法</h3><p>随机采样</p>
<h1 id="性能度量"><a href="#性能度量" class="headerlink" title="性能度量"></a>性能度量</h1><h3 id="回归"><a href="#回归" class="headerlink" title="回归"></a>回归</h3><ol>
<li>均方误差</li>
</ol>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><ol>
<li>错误率、精度</li>
<li>查准率、查全率；P-R图、BEP；</li>
<li>ROC，AUC</li>
<li>代价敏感错误率、代价曲线 （加权）</li>
</ol>
<h1 id="统计假设检验"><a href="#统计假设检验" class="headerlink" title="统计假设检验"></a>统计假设检验</h1><h3 id="二项检验、t分布检验"><a href="#二项检验、t分布检验" class="headerlink" title="二项检验、t分布检验"></a>二项检验、t分布检验</h3><p>对单个学习期泛化性能假设的检验</p>
<h3 id="交叉验证t检验"><a href="#交叉验证t检验" class="headerlink" title="交叉验证t检验"></a>交叉验证t检验</h3><p>比较两个学习器</p>
<h3 id="McNemar检验"><a href="#McNemar检验" class="headerlink" title="McNemar检验"></a>McNemar检验</h3><p>二分类问题，比较两个学习器</p>
<h3 id="Friedman检验、Nemenyi检验"><a href="#Friedman检验、Nemenyi检验" class="headerlink" title="Friedman检验、Nemenyi检验"></a>Friedman检验、Nemenyi检验</h3><p>Friedman比较多个学习器，Nemenyi后续检验</p>
<h3 id="偏差、方差"><a href="#偏差、方差" class="headerlink" title="偏差、方差"></a>偏差、方差</h3><p>偏差：度量了学习算法的期望预测与真实结果的偏离程度，即刻画了学习算法本身的拟合能力</p>
<p>方差：度量了同样大小的训练集的变动所导致的学习性能的变化，即刻画了数据扰动所造成的影响</p>
<p>噪声：表达了在当前任务上任何学习算法所能达到的期望泛化误差的下界，即刻画了学习问题本身的难度</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hahahaha123567.github.io/2018-04-26-%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%8Bch1-%E7%BB%AA%E8%AE%BA.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hahahaha123567">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hahahaha123567">
      <meta itemprop="description" content="niconiconi">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | hahahaha123567">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018-04-26-%E3%80%8A%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E3%80%8Bch1-%E7%BB%AA%E8%AE%BA.html" class="post-title-link" itemprop="url">《机器学习》ch1.绪论</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-04-26 20:04:37" itemprop="dateCreated datePublished" datetime="2018-04-26T20:04:37+08:00">2018-04-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2018-08-12 21:59:34" itemprop="dateModified" datetime="2018-08-12T21:59:34+08:00">2018-08-12</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>109</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

            <div class="post-description">人工智能、机器学习、一些基本概念</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="人工智能"><a href="#人工智能" class="headerlink" title="人工智能"></a>人工智能</h1><ol>
<li>推理期</li>
<li>知识期</li>
<li>机器学习</li>
</ol>
<h1 id="机器学习"><a href="#机器学习" class="headerlink" title="机器学习"></a>机器学习</h1><p>从样例中学习</p>
<ol>
<li>符号主义学习：决策树，基于逻辑的学习</li>
<li>连接主义学习：神经网络 -&gt; 深度学习</li>
<li>统计学习：支持向量机，核方法</li>
</ol>
<h1 id="一些基本概念"><a href="#一些基本概念" class="headerlink" title="一些基本概念"></a>一些基本概念</h1><h3 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h3><ol>
<li>监督学习<ol>
<li>离散值：分类</li>
<li>连续值：回归</li>
</ol>
</li>
<li>无监督学习<ol>
<li>聚类</li>
</ol>
</li>
</ol>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hahahaha123567.github.io/2018-03-07-JavaFX%E4%BB%8B%E7%BB%8D.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hahahaha123567">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hahahaha123567">
      <meta itemprop="description" content="niconiconi">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | hahahaha123567">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018-03-07-JavaFX%E4%BB%8B%E7%BB%8D.html" class="post-title-link" itemprop="url">JavaFX入门</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-03-07 16:43:33" itemprop="dateCreated datePublished" datetime="2018-03-07T16:43:33+08:00">2018-03-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2018-08-12 21:59:36" itemprop="dateModified" datetime="2018-08-12T21:59:36+08:00">2018-08-12</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

            <div class="post-description">一个不会被用来做GUI的语言的GUI库的介绍</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h1><p>如果使用IntelliJ IDEA创建一个JavaFX项目，会默认创建 <code>Main.java</code> <code>Controller.java</code> <code>sample.fxml</code> ，这也是JavaFX一个明显的特性：可以使用fxml文件与css文件编辑界面</p>
<h1 id="编辑界面"><a href="#编辑界面" class="headerlink" title="编辑界面"></a>编辑界面</h1><p>在 <code>sample.fxml</code> 中使用xml语言编辑界面，可使用 <code>javafx.scene.layout</code> 库中的所有元素，参考 <a target="_blank" rel="noopener" href="https://docs.oracle.com/javafx/2/api/javafx/fxml/doc-files/introduction_to_fxml.html">Introduction to FXML | JavaFX 2.2</a> </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?import javafx.scene.control.Button?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">VBox</span> <span class="attr">fx:id</span>=<span class="string">&quot;body&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">fx:controller</span>=<span class="string">&quot;miniCAD.Controller&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">xmlns:fx</span>=<span class="string">&quot;http://javafx.com/fxml&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">MenuBar</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Menu</span> <span class="attr">fx:id</span>=<span class="string">&quot;menuFile&quot;</span> <span class="attr">text</span>=<span class="string">&quot;File&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">MenuItem</span> <span class="attr">fx:id</span>=<span class="string">&quot;itemOpen&quot;</span> <span class="attr">text</span>=<span class="string">&quot;Open&quot;</span> <span class="attr">onAction</span>=<span class="string">&quot;#itemOpenClicked&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">MenuItem</span> <span class="attr">fx:id</span>=<span class="string">&quot;itemSave&quot;</span> <span class="attr">text</span>=<span class="string">&quot;Save&quot;</span> <span class="attr">onAction</span>=<span class="string">&quot;#itemSaveClicked&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">Menu</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">MenuBar</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">HBox</span> <span class="attr">fx:id</span>=<span class="string">&quot;toolBox&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">FlowPane</span> <span class="attr">fx:id</span>=<span class="string">&quot;shape&quot;</span> <span class="attr">styleClass</span>=<span class="string">&quot;tool&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Button</span> <span class="attr">fx:id</span>=<span class="string">&quot;buttonLine&quot;</span> <span class="attr">onAction</span>=<span class="string">&quot;#buttonLineClicked&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Button</span> <span class="attr">fx:id</span>=<span class="string">&quot;buttonRectangle&quot;</span> <span class="attr">onAction</span>=<span class="string">&quot;#buttonRectangleClicked&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">FlowPane</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">Separator</span> <span class="attr">orientation</span>=<span class="string">&quot;VERTICAL&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">FlowPane</span> <span class="attr">fx:id</span>=<span class="string">&quot;size&quot;</span> <span class="attr">styleClass</span>=<span class="string">&quot;tool&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Button</span> <span class="attr">fx:id</span>=<span class="string">&quot;buttonBigger&quot;</span> <span class="attr">onAction</span>=<span class="string">&quot;#buttonBiggerClicked&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Button</span> <span class="attr">fx:id</span>=<span class="string">&quot;buttonSmaller&quot;</span> <span class="attr">onAction</span>=<span class="string">&quot;#buttonSmallerClicked&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">FlowPane</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">HBox</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">VBox</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">MenuItem</span> <span class="attr">fx:id</span>=<span class="string">&quot;itemOpen&quot;</span> <span class="attr">text</span>=<span class="string">&quot;Open&quot;</span> <span class="attr">onAction</span>=<span class="string">&quot;#itemOpenClicked&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<p>相当于Java程序中的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">MenuItem</span> <span class="variable">itemOpen</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MenuItem</span>(<span class="string">&quot;Open&quot;</span>);</span><br><span class="line">itemOpen.addActionListener(actionEvent -&gt; &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="补全代码"><a href="#补全代码" class="headerlink" title="补全代码"></a>补全代码</h1><p>然后在 <code>Controller.java</code> 中补全设计界面时命名的元素和函数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FXML</span></span><br><span class="line">VBox body;</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buttonTextClick</span><span class="params">(ActionEvent actionEvent)</span> &#123; &#125;</span><br><span class="line"><span class="comment">//...</span></span><br></pre></td></tr></table></figure>

<h1 id="使用CSS"><a href="#使用CSS" class="headerlink" title="使用CSS"></a>使用CSS</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VBox</span> <span class="attr">fx:id</span>=<span class="string">&quot;body&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">fx:controller</span>=<span class="string">&quot;miniCAD.Controller&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">stylesheets</span>=<span class="string">&quot;/miniCAD/miniCAD.css&quot;</span> &lt;!<span class="attr">--</span> <span class="attr">this</span> <span class="attr">--</span>&gt;</span></span><br><span class="line">      xmlns:fx=&quot;http://javafx.com/fxml&quot;&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">VBox</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>对应的css文件中属性均以-fx-开头</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#body</span> &#123;</span><br><span class="line">    -fx-pref-<span class="attribute">width</span>: <span class="number">1000px</span>;</span><br><span class="line">    -fx-pref-<span class="attribute">height</span>: <span class="number">600px</span>;</span><br><span class="line">    -fx-spacing: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">Button</span> &#123;</span><br><span class="line">    -fx-<span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line">FlowPane &#123;</span><br><span class="line">    -fx-hgap: <span class="number">2px</span>;</span><br><span class="line">    -fx-vgap: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>实例项目</p>
<p><a target="_blank" rel="noopener" href="https://github.com/hahahaha123567/mini-cad">mini-cad</a></p>
<p>参考资料</p>
<p><a target="_blank" rel="noopener" href="https://www.jetbrains.com/help/idea/javafx.html">JavaFX - Help | IntelliJ IDEA</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hahahaha123567.github.io/2018-03-07-JavaFX%E4%B8%AD%E7%9A%84table%E7%9B%B8%E5%85%B3.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hahahaha123567">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hahahaha123567">
      <meta itemprop="description" content="niconiconi">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | hahahaha123567">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018-03-07-JavaFX%E4%B8%AD%E7%9A%84table%E7%9B%B8%E5%85%B3.html" class="post-title-link" itemprop="url">JavaFX中的table相关</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-03-07 13:43:56" itemprop="dateCreated datePublished" datetime="2018-03-07T13:43:56+08:00">2018-03-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2018-08-12 21:59:38" itemprop="dateModified" datetime="2018-08-12T21:59:38+08:00">2018-08-12</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

            <div class="post-description">官方文档只介绍了固定属性的情况</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览</h1><p>JavaFX中实现一个table需要实现两个类：<code>TableView</code> , <code>TableColumn</code> </p>
<p>此外，还要将放入表格中的数据（每行是一个对象）用一个自定义的类表示。在JavaFX中，这个自定义类可以使用property属性绑定</p>
<p>为了将TableColumn的对象和数据对象进行关联，需要使用 <a target="_blank" rel="noopener" href="https://docs.oracle.com/javafx/2/api/javafx/scene/control/TableColumn.html#cellValueFactoryProperty%28%29">Cell Value Factory</a> 和 <a target="_blank" rel="noopener" href="https://docs.oracle.com/javafx/2/api/javafx/scene/control/TableColumn.html#cellFactoryProperty%28%29">Cell Factory</a> </p>
<blockquote>
<p>setCellFactory的意图是在创建这列的时候要做的事情，你可以改变TableCell的任何内容，包括UI和Value，而setCellValueFactory呢，它的重点是关联属性，从你传递给它的Model中通过对应属性的getter来获取值。在setCellFactory中的TableCell有个回调，叫<code>updateItem</code>，它可以获取到你设置到此Cell的值，这个值是跟setCellValueFactory所关联的属性有关。</p>
</blockquote>
<h1 id="固定属性"><a href="#固定属性" class="headerlink" title="固定属性"></a>固定属性</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Data</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> SimpleStringProperty p1;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> SimpleStringProperty p2;</span><br><span class="line">  Data (String s1, String s2) &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">TableView</span> <span class="variable">table</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableView</span>();</span><br><span class="line"><span class="type">TableColumn</span> <span class="variable">column1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableColumn</span>(<span class="string">&quot;c1&quot;</span>);</span><br><span class="line"><span class="type">TableColumn</span> <span class="variable">column2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TableColumn</span>(<span class="string">&quot;c2&quot;</span>);</span><br><span class="line">table.getColumns().addAll(column1, column2);</span><br><span class="line"></span><br><span class="line">column1.setCellValueFactory(<span class="keyword">new</span> <span class="title class_">PropertyValueFactory</span>&lt;Data, String&gt;(<span class="string">&quot;p1&quot;</span>));</span><br><span class="line">column2.setCellValueFactory(<span class="keyword">new</span> <span class="title class_">PropertyValueFactory</span>&lt;Data, String&gt;(<span class="string">&quot;p2&quot;</span>));</span><br><span class="line"></span><br><span class="line">ObservableList&lt;Person&gt; dataList = FXCollections.observableArrayList(</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Data</span>(<span class="string">&quot;Nico&quot;</span>, <span class="string">&quot;Maki&quot;</span>),</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Data</span>(<span class="string">&quot;haha&quot;</span>, <span class="string">&quot;hoho&quot;</span>)</span><br><span class="line">);</span><br><span class="line">table.setItems(dataList);</span><br></pre></td></tr></table></figure>

<h1 id="动态属性"><a href="#动态属性" class="headerlink" title="动态属性"></a>动态属性</h1><p>在写 <a target="_blank" rel="noopener" href="https://github.com/hahahaha123567/csv-editor">CSV editor</a> 时，显然table的行列数都是不确定的，因此不能按照上述步骤。TableColumn可以根据需要创建，但是绑定column和数据需要进行改动</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">column.setCellValueFactory(param -&gt; param.getValue().get(ii));</span><br></pre></td></tr></table></figure>

<p>这里的参数不能继续使用PropertyValueFactory的对象，而应该用index去获取ObservableList的值</p>
<p>应用可以参考 <a target="_blank" rel="noopener" href="https://github.com/hahahaha123567/csv-editor/blob/master/src/csv/Controller.java">这段代码</a> 的showData()函数</p>
<hr>
<p>参考资料</p>
<p><a target="_blank" rel="noopener" href="http://cmlanche.com/2017/06/08/JavaFx-TableView%E8%AF%A6%E8%A7%A3/">JavaFx TableView疑难详解 | cmlanche</a></p>
<p><a target="_blank" rel="noopener" href="https://community.oracle.com/thread/2474328">Creating columns dynamically | Oracle Community</a></p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/10519534/cell-factory-in-javafx">tableview - Cell factory in javafx - Stack Overflow</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hahahaha123567.github.io/2018-03-06-%E7%94%A8Lambda%E7%AE%80%E5%8C%96%E6%9E%9A%E4%B8%BE.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hahahaha123567">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hahahaha123567">
      <meta itemprop="description" content="niconiconi">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | hahahaha123567">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018-03-06-%E7%94%A8Lambda%E7%AE%80%E5%8C%96%E6%9E%9A%E4%B8%BE.html" class="post-title-link" itemprop="url">用Lambda简化枚举</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-03-06 16:47:55" itemprop="dateCreated datePublished" datetime="2018-03-06T16:47:55+08:00">2018-03-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2018-08-12 21:59:40" itemprop="dateModified" datetime="2018-08-12T21:59:40+08:00">2018-08-12</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

            <div class="post-description">写解释器的时候进行的优化</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="需求场景"><a href="#需求场景" class="headerlink" title="需求场景"></a>需求场景</h1><p>解释器需要能够解释执行一些预设的指令，为了避免字符串判断+switch&#x2F;case的丑陋写法，选择使用枚举类实现</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Operation.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Operation</span> &#123;</span><br><span class="line">  op1 (<span class="string">&quot;op1&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">exec</span> <span class="params">()</span> &#123;</span><br><span class="line">      <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  op2 (<span class="string">&quot;op2&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">exec</span> <span class="params">()</span> &#123;</span><br><span class="line">      <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> String type;</span><br><span class="line">  Operation(String type) &#123; <span class="built_in">this</span>.type = type; &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">abstract</span> <span class="keyword">public</span> Data <span class="title function_">exec</span> <span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="用Lambda改写"><a href="#用Lambda改写" class="headerlink" title="用Lambda改写"></a>用Lambda改写</h1><p>使用Lambda需要一个只有一个抽象函数的接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Executable.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Executable</span> &#123;</span><br><span class="line">  <span class="keyword">void</span> <span class="title function_">exec</span> <span class="params">(Parser parser)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MOperation.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">MOperation</span> <span class="keyword">implements</span> <span class="title class_">Executable</span> &#123;</span><br><span class="line">  op1(<span class="string">&quot;op1&quot;</span>, (Parser parser) -&gt; &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">  &#125;),</span><br><span class="line">  op2(<span class="string">&quot;op2&quot;</span>, (Parser parser) -&gt; &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">  &#125;);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> String type;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">final</span> Executable executor;</span><br><span class="line">  MOperation(String type, Executable executor) &#123;</span><br><span class="line">    <span class="built_in">this</span>.type = type;</span><br><span class="line">    <span class="built_in">this</span>.executor = executor;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="keyword">public</span> Token <span class="title function_">exec</span> <span class="params">(Parser parser)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="keyword">return</span> executor.exec(parser);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>改写之后，不仅枚举部分的代码更简洁直观，而且可以通过<code>executor</code>传参，比之前更灵活</p>
<hr>
<p>参考资料</p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/23361418/lambdas-in-the-classical-operation-enum-example">java - Lambdas in the classical Operation enum example - Stack Overflow</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hahahaha123567.github.io/2018-01-25-Encoding.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hahahaha123567">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hahahaha123567">
      <meta itemprop="description" content="niconiconi">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | hahahaha123567">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018-01-25-Encoding.html" class="post-title-link" itemprop="url">Encoding</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-01-25 23:01:18" itemprop="dateCreated datePublished" datetime="2018-01-25T23:01:18+08:00">2018-01-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2018-08-12 21:59:42" itemprop="dateModified" datetime="2018-08-12T21:59:42+08:00">2018-08-12</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>221</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

            <div class="post-description">编码小结</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="ASCII"><a href="#ASCII" class="headerlink" title="ASCII"></a>ASCII</h1><table>
<thead>
<tr>
<th>0x00-0x1f</th>
<th>0x20-0x7f</th>
</tr>
</thead>
<tbody><tr>
<td>Control characters</td>
<td>Printable characters</td>
</tr>
</tbody></table>
<h1 id="Extended-ASCII"><a href="#Extended-ASCII" class="headerlink" title="Extended ASCII"></a>Extended ASCII</h1><table>
<thead>
<tr>
<th>0x00-0x7f</th>
<th align="left">0x80-0xff</th>
</tr>
</thead>
<tbody><tr>
<td>ASCII</td>
<td align="left">extended characters</td>
</tr>
</tbody></table>
<h1 id="Double-Byte-Character-Set-DBCS"><a href="#Double-Byte-Character-Set-DBCS" class="headerlink" title="Double Byte Character Set (DBCS)"></a>Double Byte Character Set (DBCS)</h1><h3 id="GB2312"><a href="#GB2312" class="headerlink" title="GB2312"></a>GB2312</h3><h3 id="GBK"><a href="#GBK" class="headerlink" title="GBK"></a>GBK</h3><h3 id="GB18030"><a href="#GB18030" class="headerlink" title="GB18030"></a>GB18030</h3><h1 id="Unicode"><a href="#Unicode" class="headerlink" title="Unicode"></a>Unicode</h1><hr>
<h1 id="Unicode-Transfer-Format"><a href="#Unicode-Transfer-Format" class="headerlink" title="Unicode Transfer Format"></a>Unicode Transfer Format</h1><h3 id="UTF-8"><a href="#UTF-8" class="headerlink" title="UTF-8"></a>UTF-8</h3><h3 id="UTF-16"><a href="#UTF-16" class="headerlink" title="UTF-16"></a>UTF-16</h3><hr>
<p>参考资料</p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/23374078">Unicode 和 UTF-8 有何区别？ - 知乎</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hahahaha123567.github.io/2018-01-25-Java%E8%80%83%E8%AF%95%E9%94%99%E9%A2%98.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hahahaha123567">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hahahaha123567">
      <meta itemprop="description" content="niconiconi">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | hahahaha123567">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2018-01-25-Java%E8%80%83%E8%AF%95%E9%94%99%E9%A2%98.html" class="post-title-link" itemprop="url">Java考试错题</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-01-25 21:40:12" itemprop="dateCreated datePublished" datetime="2018-01-25T21:40:12+08:00">2018-01-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2018-08-12 21:59:40" itemprop="dateModified" datetime="2018-08-12T21:59:40+08:00">2018-08-12</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>3.5k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>3 分钟</span>
    </span>
</div>

            <div class="post-description">性感楼sir，在线泄题；硬核考试，原地蓝屏</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="判断题"><a href="#判断题" class="headerlink" title="判断题"></a>判断题</h1><p>1-1 <code>JLable</code> can contain other components.</p>
<p>​	false</p>
<p>1-2 A local class or anonymous class cannot access all local variables from the enclosing method.</p>
<p>​	true</p>
<p>1-3 Using <code>JPanel p = new JPanel(); BoxLayout b1 = new BoxLayout(p, BoxLayout.X_AXIS);</code> can set the BoxLayout for Panel p.</p>
<p>​	false</p>
<h1 id="单选题"><a href="#单选题" class="headerlink" title="单选题"></a>单选题</h1><p>2-1 Which one below is the correct signature of <code>InputStream.read() </code>?</p>
<ul>
<li><p>byte read()</p>
</li>
<li><p>char read()</p>
</li>
<li><p>int read()</p>
</li>
<li><p>long read()</p>
<p>C</p>
</li>
</ul>
<p>2-2  Which of these methods will make a thread leave the running state, and the method is not static?</p>
<ul>
<li><p>notify()</p>
</li>
<li><p>Thread.KillThread()</p>
</li>
<li><p>yield()</p>
</li>
<li><p>wait()</p>
<p>D</p>
</li>
</ul>
<p>2-3 Which one below is NOT a valid Java identifier?</p>
<ul>
<li><p>const</p>
</li>
<li><p>$2</p>
</li>
<li><p>Double</p>
</li>
<li><p>名字</p>
<p>A</p>
</li>
</ul>
<p>2-4 Choose the best fill in the blanks.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Hello2017</span></span><br><span class="line">&#123;	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> </span><br><span class="line">	&#123;</span><br><span class="line">		(__<span class="comment">//put the best here__);</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Century</span> <span class="keyword">extends</span> <span class="title class_">Thread</span></span><br><span class="line">&#123;	String m=”Hello”;</span><br><span class="line">	Century(String m)&#123;</span><br><span class="line">		<span class="built_in">this</span>.m=m;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(m);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>new Century(“Hello”).start();</p>
</li>
<li><p>new Thread(“Hello”).start();</p>
</li>
<li><p>new Century(new Thread()).start();</p>
</li>
<li><p>new Thread(new Century()).start();</p>
<p>A</p>
</li>
</ul>
<p>2-5 For object <code>o</code> and class <code>C </code>, which expression below is the right way to test if <code>o</code> is an object of <code>C</code>?</p>
<ul>
<li><p><code>C.isInstance(o)</code></p>
</li>
<li><p><code>o.class == C</code></p>
</li>
<li><p><code>o instanceof C</code></p>
</li>
<li><p><code>o.getClass() == C</code></p>
<p>not D</p>
</li>
</ul>
<p>2-6 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> x=<span class="number">0x80000000</span>;</span><br><span class="line"><span class="keyword">if</span> (x==-x) </span><br><span class="line">	System.out.println(<span class="string">&quot;OK&quot;</span>);</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">	System.out.println(<span class="string">&quot;NOT&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>output:</p>
<ul>
<li><p>OK</p>
</li>
<li><p>NOT</p>
</li>
<li><p>overflow</p>
</li>
<li><p>error ( compilation or run-time)</p>
<p>A</p>
</li>
</ul>
<p>2-7 Which of the following is NOT correct?</p>
<ul>
<li><p>A Generic Type Parameter of a Class Is Not Allowed in a Static Context</p>
</li>
<li><p>Cannot Create an Instance of a Generic Type. (i.e., new E()).</p>
</li>
<li><p>Generic Array Creation is Not Allowed. (i.e., new E[100]).</p>
</li>
<li><p>Exception Classes Can be Generic.</p>
<p>not C</p>
</li>
</ul>
<p>2-8 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Double&gt; ls = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Double&gt;(); </span><br><span class="line">List&lt;?&gt; lo = ls; </span><br><span class="line">lo.add(<span class="keyword">new</span> <span class="title class_">Object</span>()); </span><br><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> ls.get(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li><p>It compiles but exception raises at line 3</p>
</li>
<li><p>It does not compile</p>
</li>
<li><p>It compiles but exception raises at line 2</p>
</li>
<li><p>It compiles but exception raises at line 4</p>
<p>B</p>
</li>
</ul>
<h1 id="填空题"><a href="#填空题" class="headerlink" title="填空题"></a>填空题</h1><p>3-1 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;		</span><br><span class="line">		<span class="type">CloneT</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CloneT</span>();		</span><br><span class="line">		<span class="type">CloneT</span> <span class="variable">t</span> <span class="operator">=</span> (CloneT)c.clone();</span><br><span class="line">		t.str = <span class="string">&quot;t&quot;</span>;</span><br><span class="line">		t.b.setA(<span class="number">3</span>);</span><br><span class="line">		System.out.println(t==c);</span><br><span class="line">		System.out.println(t.b==c.b);</span><br><span class="line">		System.out.println(c.toString()+t.toString());</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Base</span> <span class="keyword">implements</span> <span class="title class_">Cloneable</span>&#123;</span><br><span class="line">	<span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> String.valueOf(a);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setA</span><span class="params">(<span class="type">int</span> a)</span>&#123;</span><br><span class="line">		<span class="built_in">this</span>.a = a;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CloneT</span> <span class="keyword">implements</span> <span class="title class_">Cloneable</span>&#123;</span><br><span class="line">    <span class="keyword">transient</span> <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">pi</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;c&quot;</span>;</span><br><span class="line">    <span class="type">Base</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Base</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">CloneT</span><span class="params">()</span>&#123;</span><br><span class="line">        num++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">clone</span><span class="params">()</span>&#123;</span><br><span class="line">    	<span class="keyword">try</span>&#123;</span><br><span class="line">    	<span class="keyword">return</span> <span class="built_in">super</span>.clone();</span><br><span class="line">    	&#125;<span class="keyword">catch</span>(CloneNotSupportedException e)&#123;</span><br><span class="line">    		System.out.println(<span class="string">&quot;clone not supported!&quot;</span>);</span><br><span class="line">    		<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    	&#125;</span><br><span class="line">    &#125;    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span>&#123;</span><br><span class="line">    	<span class="keyword">return</span> String.valueOf(i) + String.valueOf(pi) + String.valueOf(num) + str + String.valueOf(b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	false</p>
<p>​	true</p>
<p>​	111c3111t3</p>
<p>3-2 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IntStream.range(<span class="number">2</span>, <span class="number">10</span>).</span><br><span class="line">	filter(x-&gt;IntStream.range(<span class="number">2</span>, x).filter(k-&gt;x%k==<span class="number">0</span>).sum()&gt;<span class="number">0</span>).</span><br><span class="line">	sum()</span><br></pre></td></tr></table></figure>

<p>​	27</p>
<p>3-3</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> data=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> <span class="variable">pd</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123; </span><br><span class="line">		System.out.println(data+pd);</span><br><span class="line">		f();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">f</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> data=<span class="number">3</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> <span class="variable">pd</span> <span class="operator">=</span> <span class="number">4</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="built_in">super</span>.print();</span><br><span class="line">		System.out.println(data+pd);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">f</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(<span class="number">2</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestAB</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">B</span>();</span><br><span class="line">		a.print();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	3</p>
<p>​	2</p>
<p>​	7</p>
<p>3-4 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		<span class="type">Integer</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">127</span>);</span><br><span class="line">		<span class="type">Integer</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">127</span>;</span><br><span class="line">		<span class="type">Integer</span> <span class="variable">c</span> <span class="operator">=</span> Integer.valueOf(<span class="string">&quot;127&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		System.out.println(a==b);  <span class="comment">//1</span></span><br><span class="line">		System.out.println(a==c);  <span class="comment">//2 </span></span><br><span class="line">		System.out.println(b==c); <span class="comment">//3</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	false</p>
<p>​	false</p>
<p>​	true</p>
<hr>
<p>to be done:</p>
<p>解释</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hahahaha123567.github.io/2017-12-19-Java%E4%B8%AD%E7%9A%84%E6%95%B0%E7%BB%84%E5%92%8Cfor-each.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hahahaha123567">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hahahaha123567">
      <meta itemprop="description" content="niconiconi">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | hahahaha123567">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017-12-19-Java%E4%B8%AD%E7%9A%84%E6%95%B0%E7%BB%84%E5%92%8Cfor-each.html" class="post-title-link" itemprop="url">Java中的数组和for-each</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-12-19 01:41:39" itemprop="dateCreated datePublished" datetime="2017-12-19T01:41:39+08:00">2017-12-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2018-08-12 21:59:44" itemprop="dateModified" datetime="2018-08-12T21:59:44+08:00">2018-08-12</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>2.5k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

            <div class="post-description">帮室友debug时发现自己并没有理解的一个知识点</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h1><p>室友的代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Data</span> &#123;</span><br><span class="line">    <span class="type">int</span> weight;</span><br><span class="line">&#125;</span><br><span class="line">Data[] dataArray = <span class="keyword">new</span> <span class="title class_">Data</span>[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">for</span> (Data data : dataArray) &#123;</span><br><span class="line">    data.weight = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>其中的错误涉及了数组和for-each遍历</p>
<h1 id="Create-an-Array"><a href="#Create-an-Array" class="headerlink" title="Create an Array"></a>Create an Array</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] array = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>];</span><br></pre></td></tr></table></figure>

<p>所做的事情仅仅是创建3个int所需的空间，这部分空间内数据清零，然后将首个空间的地址赋给array</p>
<p>对原生类型(primitive type)数组来说，可以理解为数组内的默认值为0&#x2F;false</p>
<p>但是对引用类型(reference type)数组来说，就要注意，数组内每个元素（数组内的元素均为引用）的值都是null，编译器并不会帮你调用默认构造函数</p>
<h1 id="For-each"><a href="#For-each" class="headerlink" title="For-each"></a>For-each</h1><h3 id="Primitive-Type"><a href="#Primitive-Type" class="headerlink" title="Primitive Type"></a>Primitive Type</h3><p>对原生类型的数组(array)或容器(collection)使用for-each进行遍历，编译器会复制出一个temp值，无法改变原数组或容器内元素的值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// primitive type in for-each</span></span><br><span class="line"><span class="type">int</span>[] array1 = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> value : array1) &#123;</span><br><span class="line">	value = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> value : array1) &#123;</span><br><span class="line">	System.out.print(value + <span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output: 0 0 0</span></span><br></pre></td></tr></table></figure>

<h3 id="Change-of-Reference-Type"><a href="#Change-of-Reference-Type" class="headerlink" title="Change of Reference Type"></a>Change of Reference Type</h3><p>与原生类型相反，对引用类型的数组或容器使用for-each进行遍历，可以改变原数组或容器内元素的值</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Nico</span> &#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    Nico (<span class="type">int</span> i) &#123; </span><br><span class="line">        <span class="built_in">this</span>.i = i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// change of reference type in for-each</span></span><br><span class="line">Nico[] array2 = <span class="keyword">new</span> <span class="title class_">Nico</span>[<span class="number">3</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; array2.length; ++i) &#123;</span><br><span class="line">	array2[i] = <span class="keyword">new</span> <span class="title class_">Nico</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (Nico value : array2) &#123;</span><br><span class="line">	value.i = <span class="number">25252</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (Nico value : array2) &#123;</span><br><span class="line">	System.out.print(value.i + <span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output: 25252 25252 25252</span></span><br></pre></td></tr></table></figure>

<h3 id="Assignment-or-Initialization-of-Reference-Type"><a href="#Assignment-or-Initialization-of-Reference-Type" class="headerlink" title="Assignment or Initialization of Reference Type"></a>Assignment or Initialization of Reference Type</h3><p>当然，也不能只记着“引用类型会改变数组或容器原来的值”</p>
<p>你应该注意到了，我在前一个例子中对数组赋值时使用的是含index的普通for循环，因为在for-each循环中对元素进行赋值&#x2F;初始化操作同样无法完成</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// assignment of reference type in for-each</span></span><br><span class="line">Nico[] array3 = <span class="keyword">new</span> <span class="title class_">Nico</span>[<span class="number">3</span>];</span><br><span class="line"><span class="keyword">for</span> (Nico value : array3) &#123;</span><br><span class="line">	value = <span class="keyword">new</span> <span class="title class_">Nico</span>(<span class="number">25252</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (Nico value : array3) &#123;</span><br><span class="line">	System.out.print(value + <span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output: null null null</span></span><br></pre></td></tr></table></figure>

<h3 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h3><p>假设引用类型的for-each循环的本质和原生类型的相同，也是编译器声明了一个temp变量，进行验证</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Nico</span> &#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    Nico (<span class="type">int</span> i) &#123; </span><br><span class="line">        <span class="built_in">this</span>.i = i;</span><br><span class="line">        System.out.println(<span class="string">&quot;Nico()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;New Array:&quot;</span>);</span><br><span class="line">Nico[] array4 = <span class="keyword">new</span> <span class="title class_">Nico</span>[<span class="number">3</span>];</span><br><span class="line">System.out.println(<span class="string">&quot;For Loop with Index:&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; array4.length; ++i) &#123;</span><br><span class="line">	array4[i] = <span class="keyword">new</span> <span class="title class_">Nico</span>(i);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(<span class="string">&quot;For-Each Loop:&quot;</span>);</span><br><span class="line"><span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (Nico value : array4) &#123;</span><br><span class="line">	System.out.println(array4[i] + <span class="string">&quot; &quot;</span> + value);</span><br><span class="line">	i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// New Array:</span></span><br><span class="line"><span class="comment">// For Loop with Index:</span></span><br><span class="line"><span class="comment">// Nico()</span></span><br><span class="line"><span class="comment">// Nico()</span></span><br><span class="line"><span class="comment">// Nico()</span></span><br><span class="line"><span class="comment">// For-Each Loop:</span></span><br><span class="line"><span class="comment">// Nico@15db9742 Nico@15db9742</span></span><br><span class="line"><span class="comment">// Nico@6d06d69c Nico@6d06d69c</span></span><br><span class="line"><span class="comment">// Nico@7852e922 Nico@7852e922</span></span><br></pre></td></tr></table></figure>

<p>可以看到</p>
<ol>
<li>新建数组时构造函数并没有被调用</li>
<li><code>value</code> 和 <code>array4[i]</code> 是对同一个对象的不同引用</li>
</ol>
<p>所以，如果你想用for-each循环进行赋值或初始化的话，结果是 <code>value</code> 指向了新的值，但是 <code>array4[i]</code> 还指向旧的对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Nico[] array5 = <span class="keyword">new</span> <span class="title class_">Nico</span>[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span> (Nico value : array5) &#123;</span><br><span class="line">    System.out.println(array5[<span class="number">0</span>] + <span class="string">&quot; &quot;</span> + value);</span><br><span class="line">    <span class="comment">// array[0] -&gt; null</span></span><br><span class="line">    <span class="comment">// value -&gt; null</span></span><br><span class="line"></span><br><span class="line">    value = <span class="keyword">new</span> <span class="title class_">Nico</span>(<span class="number">25252</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(array5[<span class="number">0</span>] + <span class="string">&quot; &quot;</span> + value);</span><br><span class="line">    <span class="comment">// array[0] -&gt; null</span></span><br><span class="line">    <span class="comment">// value -&gt; Nico@xxxxxxxx</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output:</span></span><br><span class="line"><span class="comment">// null null</span></span><br><span class="line"><span class="comment">// Nico()</span></span><br><span class="line"><span class="comment">// null Nico@15db9742</span></span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hahahaha123567.github.io/2017-11-04-OpenGL%E4%B8%AD%E7%9A%84%E5%85%89%E7%85%A7%E7%9B%B8%E5%85%B3.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hahahaha123567">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hahahaha123567">
      <meta itemprop="description" content="niconiconi">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | hahahaha123567">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017-11-04-OpenGL%E4%B8%AD%E7%9A%84%E5%85%89%E7%85%A7%E7%9B%B8%E5%85%B3.html" class="post-title-link" itemprop="url">OpenGL中的光照相关</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-11-04 17:16:02" itemprop="dateCreated datePublished" datetime="2017-11-04T17:16:02+08:00">2017-11-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2018-08-12 21:59:30" itemprop="dateModified" datetime="2018-08-12T21:59:30+08:00">2018-08-12</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>641</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

            <div class="post-description">书上写的有些乱，个人再整理一下</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="光照概念"><a href="#光照概念" class="headerlink" title="光照概念"></a>光照概念</h1><p>OpenGL中的光分为四类：</p>
<ol>
<li>Anbient  环境光，可以当成没有固定光源，即从各个方向射向物体的光</li>
<li>Diffuse  漫反射，来自固定光源的光，但是向各个方向均匀反射，各个方向观察到的亮度相同</li>
<li>Specular 镜面反射，来自固定光源的光，向各个方向不均匀反射，在正对的方向可以看到高光</li>
<li>Emission 发射光，模拟物体自身发光</li>
</ol>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><h2 id="光源"><a href="#光源" class="headerlink" title="光源"></a>光源</h2><p>光源使用函数<code>glLightfv(light, property, value)</code>设置参数，可设置的属性有</p>
<ul>
<li>anbient</li>
<li>diffuse</li>
<li>specular</li>
<li>position</li>
</ul>
<h2 id="物体"><a href="#物体" class="headerlink" title="物体"></a>物体</h2><p>物体使用函数<code>glMaterialfv(face, property, value)</code>设置参数，可设置的属性有</p>
<ul>
<li>anbient</li>
<li>diffuse</li>
<li>specular &amp; shininess</li>
<li>emission</li>
</ul>
<p>为了模拟现实中的情况，一般将anbient与diffuse设置为相同颜色，specular设置为white，shininess取值(0-128)</p>
<p>如果使用自定义的物体，还需要计算并指定各个顶点的法向量</p>
<p>&#x2F;&#x2F; to be continued</p>
<h1 id="函数手册"><a href="#函数手册" class="headerlink" title="函数手册"></a>函数手册</h1><p>参考代码 <a target="_blank" rel="noopener" href="https://github.com/hahahaha123567/hello-world/blob/master/Computer%20Graphics/solar.c">solar.c</a></p>
<h4 id="glLightfv-GL-LIGHTi-GL-POSITION-position"><a href="#glLightfv-GL-LIGHTi-GL-POSITION-position" class="headerlink" title="glLightfv (GL_LIGHTi, GL_POSITION, position)"></a>glLightfv (GL_LIGHTi, GL_POSITION, position)</h4><p>设置光源的位置，其中position[4] &#x3D; {x, y, z, w}</p>
<p>if (w &#x3D;&#x3D; 0) { 方向光源，可视为平行光; }<br>else (w &gt; 0) { 点光源 }</p>
<hr>
<p>参考资料</p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/SZLLQ2000/p/5194656.html">RGBA HSB opengl光照模型 - szllq2000 - 博客园</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hahahaha123567.github.io/2017-10-27-%E7%90%86%E8%A7%A3openGL%E4%B8%AD%E7%9A%84%E7%9F%A9%E9%98%B5%E6%93%8D%E4%BD%9C.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hahahaha123567">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hahahaha123567">
      <meta itemprop="description" content="niconiconi">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | hahahaha123567">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017-10-27-%E7%90%86%E8%A7%A3openGL%E4%B8%AD%E7%9A%84%E7%9F%A9%E9%98%B5%E6%93%8D%E4%BD%9C.html" class="post-title-link" itemprop="url">理解openGL中的矩阵操作</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-10-27 17:13:19" itemprop="dateCreated datePublished" datetime="2017-10-27T17:13:19+08:00">2017-10-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2018-08-12 21:59:26" itemprop="dateModified" datetime="2018-08-12T21:59:26+08:00">2018-08-12</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.8k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>2 分钟</span>
    </span>
</div>

            <div class="post-description">课本介绍矩阵操作直接塞了几个函数，看完之后对几个不同矩阵的概念还是很模糊= = 在这里做个学习过程中理解的整理，最后用例子尽力解释清楚</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="What"><a href="#What" class="headerlink" title="What"></a>What</h1><p>openGL中的矩阵是一组提供了接口的二维数组，用来表示图形的变换</p>
<p>空间中点的坐标由一维数组(vector)表示，用矩阵表示点将要进行的变换，相乘后即得到变换后的坐标</p>
<h3 id="从笛卡尔坐标-Cartesian-Coordinates-到齐次坐标-Homogeneous-Coordinates"><a href="#从笛卡尔坐标-Cartesian-Coordinates-到齐次坐标-Homogeneous-Coordinates" class="headerlink" title="从笛卡尔坐标(Cartesian Coordinates)到齐次坐标(Homogeneous Coordinates)"></a>从笛卡尔坐标(Cartesian Coordinates)到齐次坐标(Homogeneous Coordinates)</h3><p>点的坐标可以用一个三维vector表示，进行rotate和scale变换时乘对应的矩阵(3 * 3)即可完成变换。但对translate变换，乘一个3 * 3的矩阵并不能直接完成，因此为了将所有变换的实现都统一到矩阵的乘法，在进行变换时将点的坐标扩展到四维，对应的矩阵也用4 * 4实现，因此openGL中用到的矩阵是4 * 4的</p>
<h1 id="How"><a href="#How" class="headerlink" title="How"></a>How</h1><p>openGL中将3D坐标投影到2D屏幕坐标的步骤：</p>
<ol>
<li>model-view transform</li>
<li>projection transform</li>
<li>apply</li>
<li>viewport transform</li>
</ol>
<p>以下分别进行说明</p>
<h2 id="Model-View-Transform"><a href="#Model-View-Transform" class="headerlink" title="Model-View Transform"></a>Model-View Transform</h2><p>model指要绘制的物体，view指观察者的位置</p>
<p>这一阶段包括</p>
<ol>
<li>物体在场景中的平移、旋转、缩放</li>
<li>将场景放在观察者面前</li>
</ol>
<p>因为观察者和物体是相对的，观察者的移动相当于物体往相反方向移动，因此两者可以统一为model-view transform</p>
<p>相关函数</p>
<ul>
<li>glTranslate(x, y, z)</li>
<li>glRotate(rad, vx, vy, vz)</li>
<li>glScale(x, y, z)</li>
<li>gluLookAt(eyex, eyey, eyez, centerx, centery, centerz, upx, upy, upz)</li>
</ul>
<h2 id="Projection-Transform"><a href="#Projection-Transform" class="headerlink" title="Projection Transform"></a>Projection Transform</h2><p>在model-view transform中完成了建模后，就需要开始将模型投影到观察者眼中</p>
<p>投影变换(projection transform)分为两种，透视投影(perspective projection)和正交投影(orthographic projection)</p>
<h3 id="Perspective-projection"><a href="#Perspective-projection" class="headerlink" title="Perspective projection"></a>Perspective projection</h3><p>透视投影即近小远大的观察方式</p>
<p>这一步首先要继续对场景进行裁剪(clip)，通过上、下、左、右、近平面、远平面将能显示的部分裁剪成平截椎体(frustum)</p>
<p>相关函数</p>
<ul>
<li>gluPerspective(fovy, aspect, zNear, zFar)</li>
</ul>
<h3 id="Orthographic-Projection"><a href="#Orthographic-Projection" class="headerlink" title="Orthographic Projection"></a>Orthographic Projection</h3><p>正交投影即远近一样大的观察方式</p>
<p>同样进行裁剪</p>
<p>相关函数</p>
<ul>
<li>glOrtho(left, right, bottom, top, near, far)</li>
</ul>
<h2 id="Apply"><a href="#Apply" class="headerlink" title="Apply"></a>Apply</h2><p>openGL根据前面的变换得到的矩阵进行计算</p>
<h2 id="Viewport-Transform"><a href="#Viewport-Transform" class="headerlink" title="Viewport Transform"></a>Viewport Transform</h2><p>Apply结束后就得到了2D的投影视图，我们可以根据需要把它放置到当前窗口(window)的指定位置</p>
<p>相关函数</p>
<ul>
<li>glViewport(x, y, width, height)</li>
</ul>
<hr>
<h1 id="Programing"><a href="#Programing" class="headerlink" title="Programing"></a>Programing</h1><p>代码参考 <a target="_blank" rel="noopener" href="https://github.com/hahahaha123567/hello-world/blob/master/Computer%20Graphics/projection.c">projection.c</a></p>
<p>Perspective projection:</p>
<p>glLookAt()先指定观察者的位置、视线的方向、视线的上方，然后glPerspective()&#x2F;glOrtho()进行剪切，留下可见的部分</p>
<p>需要注意，__glTranslate()&#x2F;glRotate()等函数在对物体变换的同时也会对坐标系进行变换__。例如，先glTranslate(1, 0, 0)再glRotate(angle, 0, 1, 0)，最终物体不是绕着(0, 0, 0)-&gt;(0, 1, 0)的轴旋转，而是绕着平移后的坐标轴的原点(1, 0, 0)-&gt;(1, 1, 0)的轴旋转，坐标轴改变后同样会影响之后的gluLookAt()等函数的设置，因此一般最后再进行平移旋转</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">glMatrixMode(GL_PROJECTION);</span><br><span class="line">glLoadIdentity();</span><br><span class="line">glPerspective(forv, aspect, near, far); / glOrtho(left, right, bottom, top, near, far);</span><br><span class="line"></span><br><span class="line">glMatrixMode(GL_MODELVIEW);</span><br><span class="line">glLoadIdentity();</span><br><span class="line">gluLookAt(eye_x, eye_y, eye_z, look_x, look_y, look_z, up_x, up_y, up_z);</span><br><span class="line">glTranslate(x, y, z);</span><br><span class="line">glRotate(angle, x, y, z);</span><br><span class="line">glScale(x, y, z);</span><br><span class="line">draw();</span><br></pre></td></tr></table></figure>

<hr>
<p>参考资料</p>
<p>《OpenGL编程指南》第5章</p>
<hr>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hahahaha123567.github.io/2017-10-27-c%E8%AF%AD%E8%A8%80%E7%9A%84%E9%93%BE%E6%8E%A5%E7%8E%AF%E8%8A%82.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hahahaha123567">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hahahaha123567">
      <meta itemprop="description" content="niconiconi">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | hahahaha123567">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017-10-27-c%E8%AF%AD%E8%A8%80%E7%9A%84%E9%93%BE%E6%8E%A5%E7%8E%AF%E8%8A%82.html" class="post-title-link" itemprop="url">c语言的链接环节</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-10-27 15:20:20" itemprop="dateCreated datePublished" datetime="2017-10-27T15:20:20+08:00">2017-10-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2019-03-18 19:49:58" itemprop="dateModified" datetime="2019-03-18T19:49:58+08:00">2019-03-18</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.1k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>1 分钟</span>
    </span>
</div>

            <div class="post-description">弄懂 include <stdio> 的背后</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="c程序编译流程"><a href="#c程序编译流程" class="headerlink" title="c程序编译流程"></a>c程序编译流程</h1><p>c语言程序从源代码到可执行文件经过四个步骤</p>
<ol>
<li><p>编译预处理</p>
</li>
<li><p>编译</p>
</li>
<li><p>汇编</p>
</li>
<li><p>链接</p>
</li>
</ol>
<p>见 <a target="_blank" rel="noopener" href="http://www.cnblogs.com/ggjucheng/archive/2011/12/14/2287738.html#_Toc311642841">Linux GCC常用命令 - ggjucheng - 博客园</a> 的解释</p>
<h1 id="include-lt-stdio-h-gt"><a href="#include-lt-stdio-h-gt" class="headerlink" title="# include &lt;stdio.h&gt;"></a># include &lt;stdio.h&gt;</h1><p>我们的代码中的<code>#include &lt;stdio.h&gt;</code>的作用是将该头文件中函数的**声明(declaration)**拷贝过来，使程序通过编译</p>
<p>此时，编译生成的.s文件中并没有实现函数功能的代码，程序只知道去调用一个叫做<code>printf()</code>的函数，而不知道这个函数在哪</p>
<p>要到第四步链接(link)时，程序才能找到<code>printf()</code>的实现</p>
<p>但是我们链接时只需要执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc test.o -o test    # no other lib</span><br></pre></td></tr></table></figure>

<p>就能生成包含输入输出功能的可执行文件，这是因为编译器悄悄地帮你链接了<code>libc</code>库</p>
<h1 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h1><p>以Linux环境下的gcc为例</p>
<p>Linux环境下，静态链接库文件后缀<code>.a</code>，动态链接库文件后缀<code>.so</code></p>
<h2 id="链接指令"><a href="#链接指令" class="headerlink" title="链接指令"></a>链接指令</h2><p>经过汇编后产生的<code>.o</code>二进制文件需要与代码中include的对应的库文件链接后才能生成最后的可执行文件。例如，多线程编程用到了<code>libpthread.a</code>和<code>libphread.so</code>库文件，在链接时就要指明</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gcc test.o /usr/lib/i386-linux-gun/libpthread.so -o test</span><br></pre></td></tr></table></figure>

<p>为了防止每次都要输入库文件的绝对路径，Linux的环境变量</p>
<p><code>LIBRARY_PATH</code>用来指示默认的静态库路径</p>
<p><code>LD_LIBRARY_PATH</code>用来指示默认的动态库路径</p>
<h2 id="静态库链接时搜索路径顺序："><a href="#静态库链接时搜索路径顺序：" class="headerlink" title="静态库链接时搜索路径顺序："></a>静态库链接时搜索路径顺序：</h2><ol>
<li>ld会去找gcc命令中的参数-L后的绝对路径</li>
</ol>
<p>根据-l后的文件相对名称（无前缀lib与后缀文件格式）去</p>
<ol start="2">
<li><p><code>LIBRARY_PATH</code></p>
</li>
<li><p><code>/lib</code> <code>/usr/lib</code> <code>/usr/local/lib</code> (这是当初compile gcc时写在程序内的)</p>
</li>
</ol>
<p>中找</p>
<h2 id="动态链接时、执行时搜索路径顺序"><a href="#动态链接时、执行时搜索路径顺序" class="headerlink" title="动态链接时、执行时搜索路径顺序:"></a>动态链接时、执行时搜索路径顺序:</h2><ol>
<li>ld会去找gcc命令中的参数-L后的绝对路径</li>
</ol>
<p>根据-l后的文件相对名称（无前缀lib与后缀文件格式）去</p>
<ol start="2">
<li><p><code>LD_LIBRARY_PATH</code></p>
</li>
<li><p>配置文件<code>/etc/ld.so.conf</code>中指定的动态库搜索路径</p>
</li>
<li><p><code>/lib</code> <code>/usr/lib</code></p>
</li>
</ol>
<p>中找</p>
<h2 id="链接实现"><a href="#链接实现" class="headerlink" title="链接实现"></a>链接实现</h2><p>静态链接：将静态库的二进制代码链接到源.o文件中，以后可以独立运行</p>
<p>动态链接：将动态库的信息链接到源.o文件中，运行时到相关位置去寻找二进制代码</p>
<h2 id="libc"><a href="#libc" class="headerlink" title="libc"></a>libc</h2><p>libc(libc.a, libc.so) 是 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/C_standard_library">C stand library </a> 的实现，包括<code>stdio.h</code> <code>string.h</code> <code>stdlib.h</code>的头文件的实现，编译器默认自动链接，这就是为什么链接时我们不需要手动指定<code>stdio.h</code>的库</p>
<p>libc实现了<code>math.h</code>，但在一些平台下依然需要手动指定<code>libm</code></p>
<hr>
<p>大一开始学C，现在才赶在学编译原理之前弄懂完整的编译流程，丢人的，褪裙吧</p>
<hr>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://hahahaha123567.github.io/2017-10-18-glut%E7%9A%84%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="hahahaha123567">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="hahahaha123567">
      <meta itemprop="description" content="niconiconi">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | hahahaha123567">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2017-10-18-glut%E7%9A%84%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0.html" class="post-title-link" itemprop="url">glut的回调函数</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2017-10-18 19:56:29" itemprop="dateCreated datePublished" datetime="2017-10-18T19:56:29+08:00">2017-10-18</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2018-08-12 21:58:54" itemprop="dateModified" datetime="2018-08-12T21:58:54+08:00">2018-08-12</time>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>4.3k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>4 分钟</span>
    </span>
</div>

            <div class="post-description">计算机图形学课上讲了回调函数是一个利用glut编程的基本概念，举了几个例子但是没有讲原理和完整的实现，现在进行基本介绍和举例</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Callback-Function"><a href="#Callback-Function" class="headerlink" title="Callback Function"></a>Callback Function</h1><p>从行为上概括，回调函数就是用函数指针去调用函数。这样起到的作用与直接调用函数相似，但是灵活性大大增加。</p>
<p>平时函数的参数是变量的值或变量的指针，调用者就只能传递这个有限的信息；而如果函数的参数可以是其他函数的指针，调用者就向被调用者传递了一个动作。</p>
<p>举个我们最熟悉的例子，C语言的stdlib.h中的qsort函数的原型是</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void qsort (void* base, size_t num, size_t width, int(__cdecl* compare)(const void*, const void*));</span><br></pre></td></tr></table></figure>
<p>在我们调用qsort的时候，不仅可以传递数组的基地址、数组的元素个数、每个元素占用的字节数这些基本信息，还可以传递“比较”这个动作。</p>
<p>从<strong>库函数编写者</strong>的角度看更为明显，我需要编写一个函数foo实现功能A，但是功能A的实现过程中有部分动作是不确定的，由foo的调用者决定，就用函数指针做参数来实现。</p>
<p>总结：实体A提供函数a的指针，调用函数B，B实现的时候就**回调(Callback)**了函数a</p>
<h3 id="意义"><a href="#意义" class="headerlink" title="意义"></a>意义</h3><p>从面向对象的角度看，如果是为了实现上述的灵活性，应该尽量避免使用回调函数，去利用面向对象的特性。</p>
<p>现在我们利用回调是因为可以异步实现，有利有弊。由于本人水平有限，更多的例子可以参考知乎问题 <a target="_blank" rel="noopener" href="https://www.zhihu.com/question/19801131">回调函数（callback）是什么？</a></p>
<h1 id="Callback-Function-in-GLUT"><a href="#Callback-Function-in-GLUT" class="headerlink" title="Callback Function in GLUT"></a>Callback Function in GLUT</h1><h2 id="Program-Format"><a href="#Program-Format" class="headerlink" title="Program Format"></a>Program Format</h2><p>初学openGL，照着例程的格式写出了这样的程序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">void graph (void) &#123;</span><br><span class="line">    glBegin(...);</span><br><span class="line">        ... // points</span><br><span class="line">    glEnd();</span><br><span class="line">    glFlush();</span><br><span class="line">&#125;</span><br><span class="line">int main () &#123;</span><br><span class="line">    ... // initial</span><br><span class="line">    ... // create window</span><br><span class="line">    glutDisplayFunc(graph);</span><br><span class="line">    glutMainLoop();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>显然，最后的 <code>glutDisplayFunc()</code>与<code>glutMainLoop()</code>是将画好的图形显示出来的关键。</p>
<h2 id="Process-of-Execution"><a href="#Process-of-Execution" class="headerlink" title="Process of Execution"></a>Process of Execution</h2><p>这里的<code>glutDisplayFunc()</code>属于回调函数，而<code>glutMainLoop()</code>的作用是进入一个死循环，不断检测程序之前注册的那些回调函数是否应该被调用，类似**轮询(polling)**机制。</p>
<p>对于<code>glutDisplayFunc()</code>来说，为了防止画面不停绘制占用CPU资源，只有在以下情况发生时才会再次执行</p>
<ul>
<li>窗口大小改变</li>
<li>某个回调函数调用了<code>glutPostRedisplay()</code></li>
</ul>
<p>而其他回调函数则会在其对应的时候被触发并执行</p>
<h1 id="Sample"><a href="#Sample" class="headerlink" title="Sample"></a>Sample</h1><p>先给出glut中那些 <a target="_blank" rel="noopener" href="https://www.opengl.org/resources/libraries/glut/spec3/node45.html#SECTION00080000000000000000">回调函数的原型</a></p>
<h2 id="glutKeyboardFunc"><a href="#glutKeyboardFunc" class="headerlink" title="glutKeyboardFunc()"></a>glutKeyboardFunc()</h2><h3 id="Prototype"><a href="#Prototype" class="headerlink" title="Prototype"></a>Prototype</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void glutKeyboardFunc (void (*func)(unsigned char key, int x, int y));</span><br></pre></td></tr></table></figure>

<h3 id="Called"><a href="#Called" class="headerlink" title="Called"></a>Called</h3><p>当按下的是字母键等有对应的ASCII码的键时被调用</p>
<h3 id="Parameter"><a href="#Parameter" class="headerlink" title="Parameter"></a>Parameter</h3><p>key:</p>
<p>按下的键</p>
<p>x, y:</p>
<p>鼠标的位置，注意原点(0, 0)为window的左上角</p>
<h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// control the square with &#x27;w&#x27;, &#x27;a&#x27;, &#x27;s&#x27;, &#x27;d&#x27;</span><br><span class="line">void keyboard (char key, int curr_x, int curr_y)</span><br><span class="line">&#123;</span><br><span class="line">	if (key == &#x27;w&#x27;) &#123;</span><br><span class="line">		y -= 10;</span><br><span class="line">	&#125;</span><br><span class="line">	else if (key == &#x27;a&#x27;) &#123;</span><br><span class="line">		x -= 10;</span><br><span class="line">	&#125;</span><br><span class="line">	else if (key == &#x27;s&#x27;) &#123;</span><br><span class="line">		y += 10;</span><br><span class="line">	&#125;</span><br><span class="line">	else if (key == &#x27;d&#x27;) &#123;</span><br><span class="line">		x += 10;</span><br><span class="line">	&#125;</span><br><span class="line">	glutPostRedisplay();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="glutSpecialFunc"><a href="#glutSpecialFunc" class="headerlink" title="glutSpecialFunc()"></a>glutSpecialFunc()</h2><h3 id="Prototype-1"><a href="#Prototype-1" class="headerlink" title="Prototype"></a>Prototype</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void glutSpecialFunc (void (*func)(int key, int x, int y));</span><br></pre></td></tr></table></figure>

<h3 id="Called-1"><a href="#Called-1" class="headerlink" title="Called"></a>Called</h3><p>当按下方向键等没有对应的ASCII码的键时被调用</p>
<h3 id="Parameter-1"><a href="#Parameter-1" class="headerlink" title="Parameter"></a>Parameter</h3><p>类似<code>glutSpecialFunc()</code></p>
<h3 id="Code-1"><a href="#Code-1" class="headerlink" title="Code"></a>Code</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">// control the square with &#x27;up&#x27;, &#x27;down&#x27;, &#x27;left&#x27;, &#x27;right&#x27;</span><br><span class="line">void keyboard_special (int key, int curr_x, int curr_y)</span><br><span class="line">&#123;</span><br><span class="line">	if (key == GLUT_KEY_UP) &#123;</span><br><span class="line">		y -= 10;</span><br><span class="line">	&#125;</span><br><span class="line">	else if (key == GLUT_KEY_LEFT) &#123;</span><br><span class="line">		x -= 10;</span><br><span class="line">	&#125;</span><br><span class="line">	else if (key == GLUT_KEY_DOWN) &#123;</span><br><span class="line">		y += 10;</span><br><span class="line">	&#125;</span><br><span class="line">	else if (key == GLUT_KEY_RIGHT) &#123;</span><br><span class="line">		x += 10;</span><br><span class="line">	&#125;</span><br><span class="line">	glutPostRedisplay();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="glutMouseFunc"><a href="#glutMouseFunc" class="headerlink" title="glutMouseFunc()"></a>glutMouseFunc()</h2><h3 id="Prototype-2"><a href="#Prototype-2" class="headerlink" title="Prototype"></a>Prototype</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void glutMouseFunc (void (*func)(int button, int state, int x, int y));</span><br></pre></td></tr></table></figure>

<h3 id="Called-2"><a href="#Called-2" class="headerlink" title="Called"></a>Called</h3><p>当鼠标左键&#x2F;中键&#x2F;右键被按下&#x2F;释放时被调用</p>
<h3 id="Parameter-2"><a href="#Parameter-2" class="headerlink" title="Parameter"></a>Parameter</h3><p>button:</p>
<p>被按下&#x2F;释放的是哪个键</p>
<p>state:</p>
<p>该键是被按下还是释放</p>
<p>x, y:</p>
<p>鼠标的位置，注意原点(0, 0)为window的左上角</p>
<h3 id="Code-2"><a href="#Code-2" class="headerlink" title="Code"></a>Code</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// make the square big by click left mouse</span><br><span class="line">void mouse (int button, int state, int curr_x, int curr_y)</span><br><span class="line">&#123;</span><br><span class="line">	if (button == GLUT_LEFT_BUTTON &amp;&amp; state == GLUT_DOWN) &#123;</span><br><span class="line">		size += 4;</span><br><span class="line">	&#125;</span><br><span class="line">	if (size &gt;= 30) &#123;</span><br><span class="line">		size = 5;</span><br><span class="line">	&#125;</span><br><span class="line">	glutPostRedisplay();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="glutMotionFunc-glutPassiveMotionFunc"><a href="#glutMotionFunc-glutPassiveMotionFunc" class="headerlink" title="glutMotionFunc(), glutPassiveMotionFunc()"></a>glutMotionFunc(), glutPassiveMotionFunc()</h2><h3 id="Prototype-3"><a href="#Prototype-3" class="headerlink" title="Prototype"></a>Prototype</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">void glutMotionFunc (void (*func)(int x, int y));</span><br><span class="line">void glutPassiveMotionFunc (void (*func)(int x, int y));</span><br></pre></td></tr></table></figure>

<h3 id="Called-3"><a href="#Called-3" class="headerlink" title="Called"></a>Called</h3><p>当鼠标在被按下的时候移动时，<code>glutMotionFunc()</code>被调用；</p>
<p>当鼠标在松开的时候移动时，<code>glutPassiveMotionFunc()</code>被调用；</p>
<h3 id="Parameter-3"><a href="#Parameter-3" class="headerlink" title="Parameter"></a>Parameter</h3><p>x, y:</p>
<p>鼠标的位置，注意原点(0, 0)为window的左上角</p>
<h3 id="Code-3"><a href="#Code-3" class="headerlink" title="Code"></a>Code</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// drag the square by keep pressing the left mouse</span><br><span class="line">void motion (int curr_x, int curr_y)</span><br><span class="line">&#123;</span><br><span class="line">	x = curr_x;</span><br><span class="line">	y = curr_y;</span><br><span class="line">	glutPostRedisplay();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="glutTimerFunc"><a href="#glutTimerFunc" class="headerlink" title="glutTimerFunc()"></a>glutTimerFunc()</h2><h3 id="Prototype-4"><a href="#Prototype-4" class="headerlink" title="Prototype"></a>Prototype</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void glutTimerFunc (unsigned int msecs, void (*func)(int value), int value);</span><br></pre></td></tr></table></figure>

<h3 id="Called-4"><a href="#Called-4" class="headerlink" title="Called"></a>Called</h3><p>直接被调用，在使用时一般在被调用的函数最后进行递归调用，继续累计时间</p>
<p>这个函数不是在运行到它时立即执行，所以不算死循环</p>
<p>常用于render</p>
<p>在<code>glutTimerFunc()</code>中设置了<code>glutPostRedisplay()</code>后其他回调函数中可以不用再调用</p>
<h3 id="Parameter-4"><a href="#Parameter-4" class="headerlink" title="Parameter"></a>Parameter</h3><p>msecs:</p>
<p>时间间隔</p>
<p>value:</p>
<p>函数标记</p>
<h3 id="Code-4"><a href="#Code-4" class="headerlink" title="Code"></a>Code</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// act with interval</span><br><span class="line">void timer (int value)</span><br><span class="line">&#123;</span><br><span class="line">	y += 1;</span><br><span class="line">	glutPostRedisplay();</span><br><span class="line">	glutTimerFunc(30, timer, 0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="glutIdleFunc"><a href="#glutIdleFunc" class="headerlink" title="glutIdleFunc()"></a>glutIdleFunc()</h2><h3 id="Prototype-5"><a href="#Prototype-5" class="headerlink" title="Prototype"></a>Prototype</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void glutIdleFunc (void (*func)(void));</span><br></pre></td></tr></table></figure>

<h3 id="Called-5"><a href="#Called-5" class="headerlink" title="Called"></a>Called</h3><p>空闲时调用</p>
<p>应尽量减少空闲回调函数中的计算和渲染量，不然会影响其他部分的性能</p>
<h3 id="Code-5"><a href="#Code-5" class="headerlink" title="Code"></a>Code</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># include &lt;windows.h&gt; // Sleep() in windows</span><br><span class="line"></span><br><span class="line">// act with interval</span><br><span class="line">void idle ()</span><br><span class="line">&#123;</span><br><span class="line">	x += 2;</span><br><span class="line">	Sleep(20);</span><br><span class="line">	glutPostRedisplay();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Public-Part"><a href="#Public-Part" class="headerlink" title="Public Part"></a>Public Part</h2><p>这段代码是上文各回调函数定义的调用部分</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># include &lt;gl\glut.h&gt;</span><br><span class="line"></span><br><span class="line">GLint windowSize = 500;</span><br><span class="line">GLint x = 250, y = 250, size = 5;</span><br><span class="line"></span><br><span class="line">int main (int argc, char * argv[])</span><br><span class="line">&#123;</span><br><span class="line">	glutInit(&amp;argc, argv);</span><br><span class="line">	glutInitDisplayMode(GLUT_RGB);</span><br><span class="line">	glutInitWindowPosition(300, 100);</span><br><span class="line">	glutInitWindowSize(windowSize, windowSize);</span><br><span class="line">	glutCreateWindow(&quot;I&#x27;m a window&quot;);</span><br><span class="line">	glClearColor(1.0, 1.0, 1.0, 0.0);</span><br><span class="line">	glClear(GL_COLOR_BUFFER_BIT);</span><br><span class="line">	gluOrtho2D(0, 500, 0, 500);</span><br><span class="line"></span><br><span class="line">	glutKeyboardFunc(keyboard);</span><br><span class="line">	glutSpecialFunc(keyboard_special);</span><br><span class="line">	glutMouseFunc(mouse);</span><br><span class="line">	glutMotionFunc(motion);</span><br><span class="line">	glutIdleFunc(idle);</span><br><span class="line">	glutDisplayFunc(graph);</span><br><span class="line">	glutTimerFunc(20, timer, 0);</span><br><span class="line">	glutMainLoop();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Complete-Program"><a href="#Complete-Program" class="headerlink" title="Complete Program"></a>Complete Program</h2><p><a target="_blank" rel="noopener" href="https://github.com/hahahaha123567/hello-world/blob/master/Computer%20Graphics/callback.c">完整代码</a></p>
<hr>
<p>几个有用的链接</p>
<p><a target="_blank" rel="noopener" href="https://www.opengl.org/resources/libraries/glut/spec3/spec3.html">按函数介绍GLUT(官方文档)</a></p>
<p><a target="_blank" rel="noopener" href="http://www.lighthouse3d.com/tutorials/glut-tutorial/">按功能介绍GLUT</a></p>
<p><a target="_blank" rel="noopener" href="http://www.cnblogs.com/live41/tag/%E6%B8%B8%E6%88%8F/default.html?page=2">按功能介绍GLUT_个人翻译版</a></p>
<hr>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2017 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">hahahaha123567</span>
</div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">162k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">2:27</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  





  





</body>
</html>
